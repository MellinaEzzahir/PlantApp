(()=>{"use strict";var e={3205:(e,t,n)=>{var a=n(9993),o=n(6725),r=n(765),l=n(4420),s=n(6665),i=n(672);const d=(new i.Client).setEndpoint("https://fra.cloud.appwrite.io/v1").setProject("plantapp"),c=new i.Databases(d),u=new i.Account(d);var g=n(397);const f=(0,s.createContext)(),h=({children:e})=>{const[t,n]=(0,s.useState)(null);return(0,s.useEffect)((()=>{console.log("App just opened!");(async()=>{try{const e=await u.get();console.log("User is logged in:"+e),n(!0)}catch(e){console.log("User is not logged in:"+e),n(!1)}})()}),[]),(0,g.jsx)(f.Provider,{value:{isLoggedIn:t,setIsLoggedIn:n},children:e})};var p=n(3512),y=n(4847),m=n(3668);const x={colors:{primary:"#8DB580",secondary:"#4C5C3A",background:"#F6F4EF",accent:"#E57373",copperBrown:"#B87333",dustyRose:"#C48793",yellow:"#FCE38A",text:"#333333",error:"rgb(190, 75, 64)"}},b=o.default.get("window").width<600,w=m.default.create({screenContainer:{flex:1,margin:40,alignItems:"center",justifyContent:"center",backgroundColor:x.colors.background},tabBarStyle:{backgroundColor:"#fff",height:60,borderTopWidth:2,borderTopColor:"lightgray"},customHeader:{height:70,paddingTop:25,paddingHorizontal:15,backgroundColor:x.colors.secondary,flexDirection:"row",alignItems:"center",justifyContent:"space-between",fontSize:26},customHeaderTitle:{fontSize:24,color:"white",fontWeight:"bold"},myPlants:{width:"100%"},plantCard:{width:"95%",marginBottom:12,marginLeft:10,backgroundColor:x.colors.primary,borderRadius:16,padding:16,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.1,shadowRadius:4,elevation:2},plantCardName:{fontSize:18,color:"white",fontWeight:"bold"},plantCardType:{fontSize:14,marginBottom:4},plantCardWatering:{},plantCardSunlight:{},plantCardNotes:{},loginTitle:{fontSize:26,fontWeight:"bold",marginBottom:24,color:x.colors.secondary,textAlign:"center"},loginUsername:{width:b?"100%":500,padding:14,marginBottom:16,borderRadius:16,borderWidth:1.5,borderColor:x.colors.primary,backgroundColor:"#fff",fontSize:16,color:x.colors.text,shadowColor:"#000",shadowOffset:{width:0,height:1},shadowOpacity:.05,shadowRadius:2,elevation:1},loginPassword:{width:b?"100%":500,padding:14,marginBottom:24,borderRadius:16,borderWidth:1.5,borderColor:x.colors.primary,backgroundColor:"#fff",fontSize:16,color:x.colors.text,shadowColor:"#000",shadowOffset:{width:0,height:1},shadowOpacity:.05,shadowRadius:2,elevation:1},loginSubmit:{backgroundColor:x.colors.secondary,paddingVertical:14,paddingHorizontal:32,borderRadius:16,shadowColor:x.colors.copperBrown,shadowOffset:{width:0,height:3},shadowOpacity:.2,shadowRadius:4,elevation:4,marginBottom:16},loginSubmitText:{color:"#fff",fontSize:16,fontWeight:"bold",textAlign:"center"},footerText:{marginTop:12,fontSize:14,color:x.colors.secondary,textAlign:"center"},backText:{marginTop:12,fontSize:14,color:x.colors.secondary,textAlign:"center"},backTextPress:{position:"absolute",top:10,left:10},wrongSignUpInfo:{color:"#d9534f",marginBottom:12,marginLeft:4,fontSize:14}});var j=n(3929);function C({navigation:e}){return(0,g.jsx)(j.default,{style:w.screenContainer})}var S=n(6283),v=n(6773),T=n(8142),P=n(932),k=n(8264),O=n(5708);function I({plant:e,onDelete:t}){return(0,g.jsxs)(j.default,{style:w.plantCard,children:[(0,g.jsx)(S.default,{style:w.plantCardName,children:e.name}),(0,g.jsx)(S.default,{style:w.plantCardType,children:e.type}),(0,g.jsx)(S.default,{style:w.plantCardWatering,children:(()=>{const t=e.wateringFrequency;return t%7===0?7===t?"Water weekly":`Water every ${t/7} weeks`:1===t?"Water daily":`Water every ${t} days`})()}),(0,g.jsx)(S.default,{style:w.plantCardSunlight,children:(()=>{switch(e.sunlight){case 1:return"\u2600\ufe0f\u2601\ufe0f\u2601\ufe0f\u2601\ufe0f\u2601\ufe0f";case 2:return"\u2600\ufe0f\u2600\ufe0f\u2601\ufe0f\u2601\ufe0f\u2601\ufe0f";case 3:return"\u2600\ufe0f\u2600\ufe0f\u2600\ufe0f\u2601\ufe0f\u2601\ufe0f";case 4:return"\u2600\ufe0f\u2600\ufe0f\u2600\ufe0f\u2600\ufe0f\u2601\ufe0f";case 5:return"\u2600\ufe0f\u2600\ufe0f\u2600\ufe0f\u2600\ufe0f\u2600\ufe0f";default:return"idk think theres an error somewhere"}})()}),(0,g.jsx)(S.default,{style:w.plantCardNotes,children:e.notes}),(0,g.jsx)(O.default,{onPress:()=>t(e.$id),children:(0,g.jsx)(S.default,{children:"Delete"})})]})}function B(){const[e,t]=s.useState([]),[n,a]=s.useState(!0),[o,r]=s.useState(!1);s.useEffect((()=>{(async()=>{try{const e=await u.get(),n=await c.listDocuments("database","plants",[i.Query.equal("userId",e.$id)]);t(n.documents)}catch(e){console.error("Error fetching plants:",e)}finally{a(!1)}})()}),[]);const[l,d]=s.useState({name:"",type:"",wateringFrequency:"",sunlight:"",notes:""});return(0,g.jsxs)(j.default,{style:w.screenContainer,children:[(0,g.jsx)(S.default,{style:w.loginTitle,children:"My Plants"}),n?(0,g.jsx)(S.default,{children:"Loading..."}):(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(P.default,{data:e,keyExtractor:e=>e.$id,renderItem:({item:e})=>(0,g.jsx)(I,{plant:e}),style:w.myPlants}),(0,g.jsx)(j.default,{style:{width:"95%",marginBottom:16},children:(0,g.jsx)(T.default,{title:"Add a Plant",onPress:()=>r(!0),color:w.customHeader.backgroundColor})}),(0,g.jsx)(k.default,{visible:o,animationType:"slide",transparent:!0,onRequestClose:()=>r(!1),children:(0,g.jsx)(j.default,{style:{flex:1,justifyContent:"center",backgroundColor:"rgba(0,0,0,0.5)",padding:20},children:(0,g.jsxs)(j.default,{style:[w.plantCard,{backgroundColor:"white"}],children:[(0,g.jsx)(S.default,{style:{fontSize:20,marginBottom:10,fontWeight:"bold",color:w.customHeader.backgroundColor},children:"Add a Plant"}),(0,g.jsx)(v.default,{placeholder:"Plant Name *",value:l.name,onChangeText:e=>d(Object.assign({},l,{name:e})),style:w.loginUsername}),(0,g.jsx)(v.default,{placeholder:"Type (e.g., indoor, outdoor) *",value:l.type,onChangeText:e=>d(Object.assign({},l,{type:e})),style:w.loginUsername}),(0,g.jsx)(v.default,{placeholder:"Watering Frequency (days) *",value:l.wateringFrequency,onChangeText:e=>d(Object.assign({},l,{wateringFrequency:e})),keyboardType:"numeric",style:w.loginUsername}),(0,g.jsx)(v.default,{placeholder:"Sunlight (1-5) *",value:l.sunlight,onChangeText:e=>d(Object.assign({},l,{sunlight:e})),keyboardType:"numeric",style:w.loginUsername}),(0,g.jsx)(v.default,{placeholder:"Notes (optional)",value:l.notes,onChangeText:e=>d(Object.assign({},l,{notes:e})),style:w.loginUsername}),(0,g.jsxs)(j.default,{style:{flexDirection:"row",justifyContent:"space-between"},children:[(0,g.jsx)(T.default,{title:"Cancel",onPress:()=>r(!1),color:"#888"}),(0,g.jsx)(T.default,{title:"Add Plant",onPress:async()=>{if(l.name.trim()&&l.type.trim()&&!isNaN(l.wateringFrequency)&&!isNaN(l.sunlight))try{const e=await u.get(),n=await c.createDocument("database","plants",i.ID.unique(),{name:l.name.trim(),type:l.type.trim(),wateringFrequency:parseInt(l.wateringFrequency),sunlight:parseInt(l.sunlight),notes:l.notes.trim(),userId:e.$id});t((e=>[n,...e])),d({name:"",type:"",wateringFrequency:"",sunlight:"",notes:""}),r(!1)}catch(e){console.error("Failed to create plant",e)}else alert("Please fill out all required fields correctly.")},color:w.customHeader.backgroundColor})]})]})})})]})]})}function z(e){const{setIsLoggedIn:t}=(0,s.useContext)(f);return(0,g.jsx)(j.default,{style:w.screenContainer,children:(0,g.jsx)(O.default,{onPress:async()=>{try{await u.deleteSession("current"),t(!1)}catch(e){console.log(e)}},style:w.loginSubmit,children:(0,g.jsx)(S.default,{style:w.loginSubmitText,children:"Log Out"})})})}function E(e){return(0,g.jsx)(j.default,{style:w.screenContainer})}function N(){const e=(0,r.useNavigation)(),{setIsLoggedIn:t}=(0,s.useContext)(f),[n,a]=(0,s.useState)(""),[o,l]=(0,s.useState)("");return(0,g.jsxs)(j.default,{style:w.screenContainer,children:[(0,g.jsx)(S.default,{style:w.loginTitle,children:"Welcome Back!"}),(0,g.jsx)(v.default,{style:w.loginUsername,placeholder:"email",placeholderTextColor:"#888",value:n,onChangeText:a,autoCapitalize:"none"}),(0,g.jsx)(v.default,{style:w.loginPassword,placeholder:"password",placeholderTextColor:"#888",secureTextEntry:!0,value:o,onChangeText:l,autoCapitalize:"none"}),(0,g.jsx)(O.default,{style:w.loginSubmit,onPress:async()=>{try{await u.createEmailPasswordSession(n,o),t(!0)}catch(e){alert("Login failed!"+e.message)}},children:(0,g.jsx)(S.default,{style:w.loginSubmitText,children:"Login"})}),(0,g.jsx)(O.default,{onPress:()=>e.navigate("SignUp"),children:(0,g.jsx)(S.default,{style:w.footerText,children:"Sign up instead"})}),(0,g.jsx)(S.default,{style:w.footerText,children:"Forgot your password?"})]})}var W=n(1690);function F(){const e=(0,r.useNavigation)(),[t,n]=(0,s.useState)(""),[a,o]=(0,s.useState)(""),[l,d]=(0,s.useState)(""),[c,h]=(0,s.useState)(""),[p,y]=(0,s.useState)(""),[m,x]=(0,s.useState)(""),[b,C]=(0,s.useState)(!1),[T,P]=(0,s.useState)(!1),[k,I]=(0,s.useState)(!1),[B,z]=(0,s.useState)(!1),{setIsLoggedIn:E}=(0,s.useContext)(f);(0,s.useEffect)((()=>{const e=/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t);""===t?(h(""),C(!1)):e?(h(""),C(!0)):(h("Please enter a valid email address."),C(!1))}),[t]),(0,s.useEffect)((()=>{const e=/^(?=.*[0-9])(?=.*[!@#$%^&*]).{8,}$/.test(l);""===l?(x(""),I(!1)):e?(x(""),I(!0)):(x("Password must be at least 8 characters, include a number and a special character."),I(!1))}),[l]),(0,s.useEffect)((()=>{z(b&&k)}),[b,,k]);return(0,g.jsxs)(j.default,{style:w.screenContainer,children:[(0,g.jsx)(O.default,{onPress:()=>e.navigate("Login"),style:w.backTextPress,children:(0,g.jsx)(S.default,{style:w.backText,children:" \u2190 Go back to login"})}),(0,g.jsx)(S.default,{style:w.loginTitle,children:"Welcome!"}),(0,g.jsx)(v.default,{style:w.loginUsername,placeholder:"email",placeholderTextColor:"#888",value:t,onChangeText:n,autoCapitalize:"none"}),c?(0,g.jsx)(S.default,{style:w.wrongSignUpInfo,children:c}):null,(0,g.jsx)(v.default,{style:w.loginUsername,placeholder:"name",placeholderTextColor:"#888",value:a,onChangeText:o,autoCapitalize:"none"}),p?(0,g.jsx)(S.default,{style:w.wrongSignUpInfo,children:p}):null,(0,g.jsx)(v.default,{style:w.loginPassword,placeholder:"password",placeholderTextColor:"#888",secureTextEntry:!0,value:l,onChangeText:d,autoCapitalize:"none"}),m?(0,g.jsx)(S.default,{style:w.wrongSignUpInfo,children:m}):null,(0,g.jsx)(O.default,{style:[w.loginSubmit,{backgroundColor:B?"#4C5C3A":"#8DB580"}],onPress:async()=>{if(B)try{await u.create(i.ID.unique(),t,l,a),W.default.alert("Success","Account created!"),E(!0)}catch(e){if(409===e.code)try{await u.createEmailSession(t,l),W.default.alert("Welcome back!"),E(!0)}catch(n){W.default.alert("Email already in use","That email is already registered. Please check your password or go to the login screen.")}else W.default.alert("Error",e.message||"Something went wrong.")}else W.default.alert("Invalid","Please fix the form before signing up.")},children:(0,g.jsx)(S.default,{style:w.loginSubmitText,children:"Sign up"})})]})}function U({title:e}){return(0,g.jsx)(j.default,{style:w.customHeader,children:(0,g.jsx)(S.default,{style:w.customHeaderTitle,children:e})})}const L=(0,l.createNativeStackNavigator)(),A=(0,p.createBottomTabNavigator)();function q(){const e=o.default.get("window").width<600;return(0,g.jsxs)(A.Navigator,{screenOptions:({route:t})=>({tabBarStyle:{height:60},tabBarIcon:({focused:e,color:n,size:a})=>{let o;return"Dashboard"===t.name?o=e?"speedometer":"speedometer-outline":"MyPlants"===t.name?o=e?"leaf":"leaf-outline":"Settings"===t.name?o=e?"settings":"settings-outline":"Calendar"===t.name&&(o=e?"calendar":"calendar-outline"),(0,g.jsx)(y.default,{name:o,size:a,color:n})},tabBarLabelStyle:{fontSize:e?14:20},tabBarPressColor:"transparent",tabBarActiveTintColor:x.colors.secondary,tabBarInactiveTintColor:x.colors.primary}),children:[(0,g.jsx)(A.Screen,{name:"Dashboard",component:C,options:{headerShown:!1}}),(0,g.jsx)(A.Screen,{name:"MyPlants",component:B,options:{tabBarLabel:"My Plants",header:()=>(0,g.jsx)(U,{title:"My Plants"})}}),(0,g.jsx)(A.Screen,{name:"Calendar",component:E,options:{header:()=>(0,g.jsx)(U,{title:"Calendar"})}}),(0,g.jsx)(A.Screen,{name:"Settings",component:z,options:{header:()=>(0,g.jsx)(U,{title:"Settings"})}})]})}function D(){return(0,g.jsxs)(L.Navigator,{children:[(0,g.jsx)(L.Screen,{name:"Login",component:N,options:{headerShown:!1}}),(0,g.jsx)(L.Screen,{name:"SignUp",component:F,options:{headerShown:!1}})]})}function R(){const{isLoggedIn:e}=(0,s.useContext)(f);return null==e?null:e?(0,g.jsx)(q,{}):(0,g.jsx)(D,{})}(0,a.default)((function(){return(0,g.jsx)(h,{children:(0,g.jsx)(r.NavigationContainer,{children:(0,g.jsx)(R,{})})})}))}},t={};function n(a){var o=t[a];if(void 0!==o)return o.exports;var r=t[a]={exports:{}};return e[a](r,r.exports,n),r.exports}n.m=e,(()=>{var e=[];n.O=(t,a,o,r)=>{if(!a){var l=1/0;for(c=0;c<e.length;c++){for(var[a,o,r]=e[c],s=!0,i=0;i<a.length;i++)(!1&r||l>=r)&&Object.keys(n.O).every((e=>n.O[e](a[i])))?a.splice(i--,1):(s=!1,r<l&&(l=r));if(s){e.splice(c--,1);var d=o();void 0!==d&&(t=d)}}return t}r=r||0;for(var c=e.length;c>0&&e[c-1][2]>r;c--)e[c]=e[c-1];e[c]=[a,o,r]}})(),n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/PlantApp/",(()=>{var e={792:0};n.O.j=t=>0===e[t];var t=(t,a)=>{var o,r,[l,s,i]=a,d=0;if(l.some((t=>0!==e[t]))){for(o in s)n.o(s,o)&&(n.m[o]=s[o]);if(i)var c=i(n)}for(t&&t(a);d<l.length;d++)r=l[d],n.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return n.O(c)},a=self.webpackChunkweb=self.webpackChunkweb||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var a=n.O(void 0,[386],(()=>n(3205)));a=n.O(a)})();
//# sourceMappingURL=main.71fe0e71.js.map