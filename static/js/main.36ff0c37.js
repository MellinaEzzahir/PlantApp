(()=>{"use strict";var e={3205:(e,t,n)=>{var o=n(9993),a=n(6725),r=n(765),l=n(4420),s=n(6665),i=n(672);const d=(new i.Client).setEndpoint("https://fra.cloud.appwrite.io/v1").setProject("plantapp"),c=new i.Databases(d),u=new i.Account(d),g={colors:{primary:"#8DB580",secondary:"#4C5C3A",background:"#F6F4EF",accent:"#E57373",copperBrown:"#B87333",dustyRose:"#C48793",yellow:"#FCE38A",text:"#333333",error:"rgb(190, 75, 64)",copperBrownShadow:"rgba(184, 115, 51, 0.2)"}},f={colors:{primary:"rgb(80, 107, 70)",secondary:"rgb(54, 66, 41)",background:"rgb(26, 26, 24)",accent:"rgb(183, 66, 66)",copperBrown:"rgb(139, 80, 36)",dustyRose:"rgb(133, 79, 91)",yellow:"rgb(204, 179, 50)",text:"rgb(240, 240, 235)",error:"rgb(190, 75, 64)",copperBrownShadow:"rgba(139, 80, 36, 0.25)"}};var h=n(397);const p=(0,s.createContext)(),m=({children:e})=>{const[t,n]=(0,s.useState)(null),[o,a]=(0,s.useState)(!1);(0,s.useEffect)((()=>{(async()=>{try{await u.get();n(!0)}catch(e){console.log("User is not logged in:"+e),n(!1)}})()}),[]);const r=o?f:g;return(0,h.jsx)(p.Provider,{value:{isLoggedIn:t,setIsLoggedIn:n,isDarkMode:o,toggleTheme:()=>a((e=>!e)),theme:r},children:e})};var x=n(3512),y=n(4847),b=n(3929),j=n(3668);const w=a.default.get("window").width<600;console.log(w);const C=e=>j.default.create({screenContainer:{flex:1,margin:40,alignItems:"center",justifyContent:"center",backgroundColor:e.colors.background},tabBarStyle:{backgroundColor:"#fff",height:60,borderTopWidth:2,borderTopColor:"lightgray"},customHeader:{height:70,paddingTop:25,paddingHorizontal:15,backgroundColor:e.colors.secondary,flexDirection:"row",alignItems:"center",justifyContent:"space-between",fontSize:26},customHeaderTitle:{fontSize:24,color:"white",fontWeight:"bold"},myPlants:{width:"100%"},plantCard:{width:"95%",marginBottom:12,marginLeft:10,backgroundColor:e.colors.primary,borderRadius:16,padding:16,boxShadow:"0px 2px 4px rgba(0, 0, 0, 0.1)",elevation:2},plantCardName:{fontSize:18,color:"white",fontWeight:"bold"},plantCardType:{fontSize:14,marginBottom:4},plantCardWatering:{},plantCardSunlight:{},plantCardNotes:{},loginTitle:{fontSize:26,fontWeight:"bold",marginBottom:24,color:e.colors.secondary,textAlign:"center"},loginUsername:{width:w?"100%":500,padding:14,marginBottom:16,borderRadius:16,borderWidth:1.5,borderColor:e.colors.primary,backgroundColor:"#fff",fontSize:16,color:e.colors.text,boxShadow:"0px 1px 2px rgba(0, 0, 0, 0.05)",elevation:1},loginPassword:{width:w?"100%":500,padding:14,marginBottom:24,borderRadius:16,borderWidth:1.5,borderColor:e.colors.primary,backgroundColor:"#fff",fontSize:16,color:e.colors.text,boxShadow:"0px 1px 2px rgba(0, 0, 0, 0.05)",elevation:1},loginSubmit:{backgroundColor:e.colors.secondary,paddingVertical:14,paddingHorizontal:32,borderRadius:16,boxShadow:"0px 3px 4px theme.colors.copperBrownShadow",elevation:4,marginBottom:16},loginSubmitText:{color:"#fff",fontSize:16,fontWeight:"bold",textAlign:"center"},footerText:{marginTop:12,fontSize:14,color:e.colors.secondary,textAlign:"center"},backText:{marginTop:12,fontSize:14,color:e.colors.secondary,textAlign:"center"},backTextPress:{position:"absolute",top:10,left:10},wrongSignUpInfo:{color:"#d9534f",marginBottom:12,marginLeft:4,fontSize:14},demoAccountLoginLink:{marginTop:12,marginBottom:12,fontSize:15,color:e.colors.secondary,textAlign:"center"},plantModal:{width:w?"95%":530,marginBottom:12,marginLeft:10,backgroundColor:e.colors.primary,borderRadius:16,padding:16,boxShadow:"0px 2px 4px rgba(0, 0, 0, 0.1)",elevation:2}});function S({navigation:e}){const{theme:t}=(0,s.useContext)(p),n=C(t);return(0,h.jsx)(b.default,{style:n.screenContainer})}var v=n(6283),T=n(6773),k=n(8142),P=n(932),B=n(8264),I=n(5708);function E({plant:e,onDelete:t,onEdit:n}){const{theme:o}=(0,s.useContext)(p),a=C(o);return(0,h.jsxs)(b.default,{style:a.plantCard,children:[(0,h.jsx)(v.default,{style:a.plantCardName,children:e.name}),(0,h.jsx)(v.default,{style:a.plantCardType,children:e.type}),(0,h.jsx)(v.default,{style:a.plantCardWatering,children:(()=>{const t=e.wateringFrequency;return t%7===0?7===t?"Water weekly":`Water every ${t/7} weeks`:1===t?"Water daily":`Water every ${t} days`})()}),(0,h.jsx)(v.default,{style:a.plantCardSunlight,children:(()=>{switch(e.sunlight){case 1:return"\u2600\ufe0f\u2601\ufe0f\u2601\ufe0f\u2601\ufe0f\u2601\ufe0f";case 2:return"\u2600\ufe0f\u2600\ufe0f\u2601\ufe0f\u2601\ufe0f\u2601\ufe0f";case 3:return"\u2600\ufe0f\u2600\ufe0f\u2600\ufe0f\u2601\ufe0f\u2601\ufe0f";case 4:return"\u2600\ufe0f\u2600\ufe0f\u2600\ufe0f\u2600\ufe0f\u2601\ufe0f";case 5:return"\u2600\ufe0f\u2600\ufe0f\u2600\ufe0f\u2600\ufe0f\u2600\ufe0f";default:return"idk think theres an error somewhere"}})()}),(0,h.jsx)(v.default,{style:a.plantCardNotes,children:e.notes}),(0,h.jsx)(I.default,{onPress:()=>t(e.$id),children:(0,h.jsx)(v.default,{children:"Delete"})}),(0,h.jsx)(I.default,{onPress:()=>n(e.$id),children:(0,h.jsx)(v.default,{children:"Edit"})})]})}function z(){const[e,t]=s.useState([]),[n,o]=s.useState(!0),[a,r]=s.useState(!1),{theme:l}=(0,s.useContext)(p),d=C(l);s.useEffect((()=>{g()}),[]);const g=async()=>{try{const e=await u.get(),n=await c.listDocuments("database","plants",[i.Query.equal("userId",e.$id)]);t(n.documents)}catch(e){console.error("Error fetching plants:",e)}finally{o(!1)}},[f,m]=s.useState({name:"",type:"",wateringFrequency:"",sunlight:"",notes:""}),x=async(e,t)=>{try{await c.deleteDocument("database","plants",e);g()}catch(n){console.log(n)}},y=async e=>{try{await c.updateDocument("da")}catch(t){console.log(t)}};return(0,h.jsxs)(b.default,{style:d.screenContainer,children:[(0,h.jsx)(v.default,{style:d.loginTitle,children:"My Plants"}),n?(0,h.jsx)(v.default,{children:"Loading..."}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(P.default,{data:e,keyExtractor:e=>e.$id,renderItem:({item:e})=>(0,h.jsx)(E,{plant:e,onDelete:x,onEdit:y}),style:d.myPlants}),(0,h.jsx)(b.default,{style:{width:"95%",marginBottom:16},children:(0,h.jsx)(k.default,{title:"Add a Plant",onPress:()=>r(!0),color:d.customHeader.backgroundColor})}),(0,h.jsx)(B.default,{visible:a,animationType:"slide",transparent:!0,onRequestClose:()=>r(!1),children:(0,h.jsx)(b.default,{style:{flex:1,justifyContent:"center",backgroundColor:"rgba(0,0,0,0.5)",padding:20},children:(0,h.jsxs)(b.default,{style:[d.plantModal,{backgroundColor:"white"}],children:[(0,h.jsx)(v.default,{style:{fontSize:20,marginBottom:10,fontWeight:"bold",color:d.customHeader.backgroundColor},children:"Add a Plant"}),(0,h.jsx)(T.default,{placeholder:"Plant Name *",value:f.name,onChangeText:e=>m(Object.assign({},f,{name:e})),style:d.loginUsername}),(0,h.jsx)(T.default,{placeholder:"Type (e.g., indoor, outdoor) *",value:f.type,onChangeText:e=>m(Object.assign({},f,{type:e})),style:d.loginUsername}),(0,h.jsx)(T.default,{placeholder:"Watering Frequency (days) *",value:f.wateringFrequency,onChangeText:e=>m(Object.assign({},f,{wateringFrequency:e})),keyboardType:"numeric",style:d.loginUsername}),(0,h.jsx)(T.default,{placeholder:"Sunlight (1-5) *",value:f.sunlight,onChangeText:e=>m(Object.assign({},f,{sunlight:e})),keyboardType:"numeric",style:d.loginUsername}),(0,h.jsx)(T.default,{placeholder:"Notes (optional)",value:f.notes,onChangeText:e=>m(Object.assign({},f,{notes:e})),style:d.loginUsername}),(0,h.jsxs)(b.default,{style:{flexDirection:"row",justifyContent:"space-between"},children:[(0,h.jsx)(k.default,{title:"Cancel",onPress:()=>r(!1),color:"#888"}),(0,h.jsx)(k.default,{title:"Add Plant",onPress:async()=>{if(f.name.trim()&&f.type.trim()&&!isNaN(f.wateringFrequency)&&!isNaN(f.sunlight))try{const e=await u.get(),n=await c.createDocument("database","plants",i.ID.unique(),{name:f.name.trim(),type:f.type.trim(),wateringFrequency:parseInt(f.wateringFrequency),sunlight:parseInt(f.sunlight),notes:f.notes.trim(),userId:e.$id});t((e=>[n,...e])),m({name:"",type:"",wateringFrequency:"",sunlight:"",notes:""}),r(!1)}catch(e){console.error("Failed to create plant",e)}else alert("Please fill out all required fields correctly.")},color:d.customHeader.backgroundColor})]})]})})})]})]})}var L=n(4037);function N(e){const{setIsLoggedIn:t}=(0,s.useContext)(p),{isDarkMode:n,toggleTheme:o,theme:a}=(0,s.useContext)(p),r=C(a);return(0,h.jsxs)(b.default,{style:r.screenContainer,children:[(0,h.jsx)(I.default,{onPress:async()=>{try{await u.deleteSession("current"),t(!1)}catch(e){console.log(e)}},style:r.loginSubmit,children:(0,h.jsx)(v.default,{style:r.loginSubmitText,children:"Log Out"})}),(0,h.jsx)(v.default,{children:"Dark Mode"}),(0,h.jsx)(L.default,{trackColor:{false:a.colors.primary,true:a.colors.primary},thumbColor:a.colors.secondary,value:n,onValueChange:o})]})}function O(e){const{theme:t}=(0,s.useContext)(p),n=C(t);return(0,h.jsx)(b.default,{style:n.screenContainer})}function D(){const{theme:e}=(0,s.useContext)(p),t=C(e),n=(0,r.useNavigation)(),{setIsLoggedIn:o}=(0,s.useContext)(p),[a,l]=(0,s.useState)(""),[i,d]=(0,s.useState)("");return(0,h.jsxs)(b.default,{style:t.screenContainer,children:[(0,h.jsx)(v.default,{style:t.loginTitle,children:"Welcome Back!"}),(0,h.jsxs)(I.default,{onPress:async()=>{try{u.createEmailPasswordSession("demo@demo.com","demodemo");o(!0)}catch(e){alert("Login failed! "+e.message)}},children:[(0,h.jsx)(v.default,{style:t.wrongSignUpInfo,children:"Note- only demo account works. Please use it!! The login doesn't work. (It worked but then the backend got updated without me knowing and I can't fix it so...)"}),(0,h.jsx)(v.default,{style:t.demoAccountLoginLink,children:"Use a demo account"})]}),(0,h.jsx)(T.default,{style:t.loginUsername,placeholder:"email",placeholderTextColor:"#888",value:a,onChangeText:l,autoCapitalize:"none"}),(0,h.jsx)(T.default,{style:t.loginPassword,placeholder:"password",placeholderTextColor:"#888",secureTextEntry:!0,value:i,onChangeText:d,autoCapitalize:"none"}),(0,h.jsx)(I.default,{style:t.loginSubmit,onPress:async()=>{try{u.createEmailPasswordSession({email:a,password:i});o(!0)}catch(e){alert("Login failed! "+e.message)}},children:(0,h.jsx)(v.default,{style:t.loginSubmitText,children:"Login"})}),(0,h.jsx)(I.default,{onPress:()=>n.navigate("SignUp"),children:(0,h.jsx)(v.default,{style:t.footerText,children:"Sign up instead"})}),(0,h.jsx)(v.default,{style:t.footerText,children:"Forgot your password?"})]})}var U=n(1690);function W(){const{theme:e}=(0,s.useContext)(p),t=C(e),n=(0,r.useNavigation)(),[o,a]=(0,s.useState)(""),[l,d]=(0,s.useState)(""),[c,g]=(0,s.useState)(""),[f,m]=(0,s.useState)(""),[x,y]=(0,s.useState)(""),[j,w]=(0,s.useState)(""),[S,k]=(0,s.useState)(!1),[P,B]=(0,s.useState)(!1),[E,z]=(0,s.useState)(!1),[L,N]=(0,s.useState)(!1),{setIsLoggedIn:O}=(0,s.useContext)(p);(0,s.useEffect)((()=>{const e=/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o);""===o?(m(""),k(!1)):e?(m(""),k(!0)):(m("Please enter a valid email address."),k(!1))}),[o]),(0,s.useEffect)((()=>{const e=/^(?=.*[0-9])(?=.*[!@#$%^&*]).{8,}$/.test(c);""===c?(w(""),z(!1)):e?(w(""),z(!0)):(w("Password must be at least 8 characters, include a number and a special character."),z(!1))}),[c]),(0,s.useEffect)((()=>{""===c&&""===o||""!==l?(y(""),B(!0)):(y("Name cannot be empty"),B(!1))}),[c,o,l]),(0,s.useEffect)((()=>{const e=S&&E&&""!==l.trim();N(e)}),[S,E]);return(0,h.jsxs)(b.default,{style:t.screenContainer,children:[(0,h.jsx)(I.default,{onPress:()=>n.navigate("Login"),style:t.backTextPress,children:(0,h.jsx)(v.default,{style:t.backText,children:" \u2190 Go back to login"})}),(0,h.jsx)(v.default,{style:t.loginTitle,children:"Welcome!"}),(0,h.jsx)(T.default,{style:t.loginUsername,placeholder:"email",placeholderTextColor:"#888",value:o,onChangeText:a,autoCapitalize:"none"}),f?(0,h.jsx)(v.default,{style:t.wrongSignUpInfo,children:f}):null,(0,h.jsx)(T.default,{style:t.loginUsername,placeholder:"name",placeholderTextColor:"#888",value:l,onChangeText:d,autoCapitalize:"none"}),x?(0,h.jsx)(v.default,{style:t.wrongSignUpInfo,children:x}):null,(0,h.jsx)(T.default,{style:t.loginPassword,placeholder:"password",placeholderTextColor:"#888",secureTextEntry:!0,value:c,onChangeText:g,autoCapitalize:"none"}),j?(0,h.jsx)(v.default,{style:t.wrongSignUpInfo,children:j}):null,(0,h.jsx)(I.default,{style:[t.loginSubmit,{backgroundColor:L?"#4C5C3A":"#8DB580"}],onPress:async()=>{if(L)try{await u.create(i.ID.unique(),o,c,l),await u.createEmailSession(o,c),U.default.alert("Success","Account created!"),O(!0)}catch(e){if(409===e.code)try{await u.createEmailSession(o,c),U.default.alert("Welcome back!"),O(!0)}catch(t){U.default.alert("Email already in use","That email is already registered. Please check your password or go to the login screen.")}else U.default.alert("Error",e.message||"Something went wrong.")}else U.default.alert("Invalid","Please fix the form before signing up.")},children:(0,h.jsx)(v.default,{style:t.loginSubmitText,children:"Sign up"})})]})}function A({title:e}){const{theme:t}=(0,s.useContext)(p),n=C(t);return(0,h.jsx)(b.default,{style:n.customHeader,children:(0,h.jsx)(v.default,{style:n.customHeaderTitle,children:e})})}const F=(0,l.createNativeStackNavigator)(),q=(0,x.createBottomTabNavigator)();function M(){const{theme:e}=(0,s.useContext)(p),t=(C(e),a.default.get("window").width<600);return(0,h.jsxs)(q.Navigator,{screenOptions:({route:n})=>({tabBarStyle:{height:60},tabBarIcon:({focused:e,color:t,size:o})=>{let a;return"Dashboard"===n.name?a=e?"speedometer":"speedometer-outline":"MyPlants"===n.name?a=e?"leaf":"leaf-outline":"Settings"===n.name?a=e?"settings":"settings-outline":"Calendar"===n.name&&(a=e?"calendar":"calendar-outline"),(0,h.jsx)(y.default,{name:a,size:o,color:t})},tabBarLabelStyle:{fontSize:t?14:20},tabBarPressColor:"transparent",tabBarActiveTintColor:e.colors.secondary,tabBarInactiveTintColor:e.colors.primary}),children:[(0,h.jsx)(q.Screen,{name:"Dashboard",component:S,options:{headerShown:!1}}),(0,h.jsx)(q.Screen,{name:"MyPlants",component:z,options:{tabBarLabel:"My Plants",header:()=>(0,h.jsx)(A,{title:"My Plants"})}}),(0,h.jsx)(q.Screen,{name:"Calendar",component:O,options:{header:()=>(0,h.jsx)(A,{title:"Calendar"})}}),(0,h.jsx)(q.Screen,{name:"Settings",component:N,options:{header:()=>(0,h.jsx)(A,{title:"Settings"})}})]})}function $(){return(0,h.jsxs)(F.Navigator,{children:[(0,h.jsx)(F.Screen,{name:"Login",component:D,options:{headerShown:!1}}),(0,h.jsx)(F.Screen,{name:"SignUp",component:W,options:{headerShown:!1}})]})}function H(){const{isLoggedIn:e}=(0,s.useContext)(p);return null==e?null:e?(0,h.jsx)(M,{}):(0,h.jsx)($,{})}(0,o.default)((function(){return(0,h.jsx)(m,{children:(0,h.jsx)(r.NavigationContainer,{children:(0,h.jsx)(H,{})})})}))}},t={};function n(o){var a=t[o];if(void 0!==a)return a.exports;var r=t[o]={exports:{}};return e[o](r,r.exports,n),r.exports}n.m=e,(()=>{var e=[];n.O=(t,o,a,r)=>{if(!o){var l=1/0;for(c=0;c<e.length;c++){for(var[o,a,r]=e[c],s=!0,i=0;i<o.length;i++)(!1&r||l>=r)&&Object.keys(n.O).every((e=>n.O[e](o[i])))?o.splice(i--,1):(s=!1,r<l&&(l=r));if(s){e.splice(c--,1);var d=a();void 0!==d&&(t=d)}}return t}r=r||0;for(var c=e.length;c>0&&e[c-1][2]>r;c--)e[c]=e[c-1];e[c]=[o,a,r]}})(),n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/PlantApp/",(()=>{var e={792:0};n.O.j=t=>0===e[t];var t=(t,o)=>{var a,r,[l,s,i]=o,d=0;if(l.some((t=>0!==e[t]))){for(a in s)n.o(s,a)&&(n.m[a]=s[a]);if(i)var c=i(n)}for(t&&t(o);d<l.length;d++)r=l[d],n.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return n.O(c)},o=self.webpackChunkweb=self.webpackChunkweb||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var o=n.O(void 0,[494],(()=>n(3205)));o=n.O(o)})();
//# sourceMappingURL=main.36ff0c37.js.map